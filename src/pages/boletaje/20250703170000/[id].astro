---
import LayoutBoleto from "@layouts/LayoutBoleto.astro";
import Boletaje from "@components/boletaje/Boletaje.svelte"
import { Boleto } from "@interfaces/boletajeResponse"
import { getBoletaje, getBoleto } from "@lib/boletajeUtils"



export const getStaticPaths = (async () => {
    const results = await getBoleto("20250703170000") as Boleto; // Asegúrate de usar await aquí

    return results.map(({ evento, section, asiento, invitado, ocupado, img, id }) => {
        return {
            params: { id },
            props: { evento, section, asiento, invitado, ocupado, img },
        };

    });
}) satisfies GetStaticPaths;


const { id } = Astro.params;
const { evento, section, asiento, invitado, ocupado, img } = Astro.props;

const boletaje = await getBoletaje("20250703170000");
const { acces } = boletaje;
const boletajeAcces = acces

const boletos = await getBoleto("20250703170000") as Boleto;
const boleto = boletos.filter(e => e.id == id);
---


<LayoutBoleto title="Boleto">
  <h1>Boleto</h1>
  <Boletaje boleto={boleto} collectionId={boletajeAcces}>
</LayoutBoleto>


<style lang="sass">

</style>
